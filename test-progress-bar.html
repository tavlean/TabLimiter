<!DOCTYPE html>
<html lang="en">
<head>
    <title>Progress Bar Color Test</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="extension/options.css" />
    <style>
        body {
            padding: 20px;
            background: #1f2937;
            color: white;
            font-family: Arial, sans-serif;
        }
        .test-container {
            margin: 20px 0;
        }
        .test-label {
            margin-bottom: 10px;
            font-weight: bold;
        }
        .slider-container {
            margin: 10px 0;
        }
        input[type="range"] {
            width: 100%;
            margin: 10px 0;
        }
        .percentage-display {
            text-align: center;
            margin: 10px 0;
            font-size: 18px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Progress Bar Color Test</h1>
    <p>Test the dynamic color changes based on percentage ranges:</p>
    
    <div class="test-container">
        <div class="test-label">Window Progress Bar</div>
        <div class="progress-bar">
            <div class="progress-fill" id="windowProgressFill"></div>
        </div>
        <div class="slider-container">
            <input type="range" id="windowSlider" min="0" max="100" value="0" />
            <div class="percentage-display" id="windowPercentage">0%</div>
        </div>
    </div>
    
    <div class="test-container">
        <div class="test-label">Global Progress Bar</div>
        <div class="progress-bar">
            <div class="progress-fill" id="globalProgressFill"></div>
        </div>
        <div class="slider-container">
            <input type="range" id="globalSlider" min="0" max="100" value="0" />
            <div class="percentage-display" id="globalPercentage">0%</div>
        </div>
    </div>
    
    <div style="margin-top: 30px; padding: 15px; background: #374151; border-radius: 8px;">
        <h3>Color Ranges:</h3>
        <ul>
            <li><strong>0-20%:</strong> Purple (violet-500 to purple-600)</li>
            <li><strong>20-40%:</strong> Blue (sky-500 to blue-600)</li>
            <li><strong>40-60%:</strong> Green (teal-500 to emerald-600)</li>
            <li><strong>60-75%:</strong> Yellow (yellow-500 to yellow-600)</li>
            <li><strong>75-90%:</strong> Orange (amber-500 to orange-600)</li>
            <li><strong>90-100%:</strong> Red (red-500 to red-600)</li>
        </ul>
    </div>

    <script>
        // Copy the updateProgressBarColor function from options.js
        const updateProgressBarColor = (progressEl, percentage) => {
            // Remove all existing color classes
            progressEl.classList.remove('purple', 'blue', 'green', 'yellow', 'orange', 'red');
            
            // Add appropriate color class based on percentage ranges
            if (percentage <= 20) {
                progressEl.classList.add('purple');
            } else if (percentage <= 40) {
                progressEl.classList.add('blue');
            } else if (percentage <= 60) {
                progressEl.classList.add('green');
            } else if (percentage <= 75) {
                progressEl.classList.add('yellow');
            } else if (percentage <= 90) {
                progressEl.classList.add('orange');
            } else {
                progressEl.classList.add('red');
            }
        };

        // Window progress bar
        const windowProgressEl = document.getElementById('windowProgressFill');
        const windowSlider = document.getElementById('windowSlider');
        const windowPercentage = document.getElementById('windowPercentage');
        
        windowSlider.addEventListener('input', (e) => {
            const value = e.target.value;
            windowProgressEl.style.width = `${value}%`;
            windowPercentage.textContent = `${value}%`;
            updateProgressBarColor(windowProgressEl, parseInt(value));
        });

        // Global progress bar
        const globalProgressEl = document.getElementById('globalProgressFill');
        const globalSlider = document.getElementById('globalSlider');
        const globalPercentage = document.getElementById('globalPercentage');
        
        globalSlider.addEventListener('input', (e) => {
            const value = e.target.value;
            globalProgressEl.style.width = `${value}%`;
            globalPercentage.textContent = `${value}%`;
            updateProgressBarColor(globalProgressEl, parseInt(value));
        });

        // Initialize with some values
        windowSlider.value = 35;
        globalSlider.value = 70;
        windowSlider.dispatchEvent(new Event('input'));
        globalSlider.dispatchEvent(new Event('input'));
    </script>
</body>
</html>