<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Tab Limiter Settings</title>
        <meta charset="utf-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1, viewport-fit=cover"
        />
        <meta
            name="color-scheme"
            content="light dark"
        />
        <link
            rel="stylesheet"
            href="options.css"
        />
        <script
            src="options.js"
            defer
        ></script>
    </head>

    <body>
        <div class="header">
            <div class="header-left">
                <img
                    src="icons/Icon32.png"
                    alt="Tab Limiter"
                    class="header-icon"
                />
                <h1>Tab Limiter</h1>
                <div class="subtitle hidden" id="subtitle">| Settings</div>
            </div>
            <button
                type="button"
                id="settingsToggle"
                class="settings-btn"
                aria-label="Toggle settings"
                aria-expanded="false"
            >
                <svg class="settings-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M16.1603 7.0411L14.8823 6.4021C14.7813 6.0951 14.6553 5.8001 14.5113 5.5151L14.9643 4.1561C15.2166 3.40119 14.4814 2.89121 14.0163 2.4261C13.3785 1.78597 12.3283 2.40559 11.6333 2.6371C11.3483 2.4931 11.0533 2.3681 10.7463 2.2661L10.1073 0.988096C9.75015 0.276005 8.87127 0.435096 8.21225 0.435096C7.30922 0.435096 7.00602 1.61055 6.67825 2.2661C6.37125 2.3671 6.07625 2.4931 5.79125 2.6371L4.43125 2.1841C3.6765 1.93181 3.16624 2.6681 2.70125 3.1331C2.06267 3.77168 2.68152 4.81989 2.91325 5.5151C2.76925 5.8001 2.64425 6.0951 2.54225 6.4021L1.26425 7.0411C0.55169 7.39633 0.711251 8.27823 0.711251 8.9361C0.711251 9.83913 1.88671 10.1423 2.54225 10.4701C2.64325 10.7771 2.76925 11.0721 2.91325 11.3571L2.46025 12.7161C2.20792 13.471 2.94314 13.981 3.40825 14.4461C4.05543 15.0967 5.10796 14.4627 5.79125 14.2351C6.07625 14.3791 6.37125 14.5041 6.67825 14.6061L7.31725 15.8841C7.67435 16.5962 8.55323 16.4371 9.21225 16.4371C10.1153 16.4371 10.4185 15.2616 10.7463 14.6061C11.0533 14.5051 11.3483 14.3791 11.6333 14.2351L12.9933 14.6881C13.7428 14.9403 14.2603 14.2021 14.7233 13.7391C15.3618 13.1005 14.743 12.0523 14.5113 11.3571C14.6553 11.0721 14.7803 10.7771 14.8823 10.4701L16.1603 9.8311C16.9899 9.4175 16.9872 7.45581 16.1603 7.0411ZM8.71325 11.4361C7.05625 11.4361 5.71325 10.0931 5.71325 8.4361C5.71325 6.7791 7.05625 5.4361 8.71325 5.4361C10.3703 5.4361 11.7133 6.7791 11.7133 8.4361C11.7133 10.0931 10.3703 11.4361 8.71325 11.4361Z" fill="currentColor"/>
                </svg>
            </button>
        </div>

        <div id="mainView" class="view-container">
            <div class="cards-container">
            <!-- Window Card -->
            <div class="card">
                <div class="card-header">
                    <svg class="card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                        <line x1="9" y1="3" x2="9" y2="21"/>
                        <line x1="3" y1="9" x2="21" y2="9"/>
                    </svg>
                    <h2>Window</h2>
                </div>
                
                <div class="card-content">
                    <div class="stepper-group">
                        <div class="stepper-container">
                            <button
                                type="button"
                                class="stepper-btn"
                                data-input="maxWindow"
                                data-action="decrement"
                                aria-label="Decrease maximum tabs per window"
                            >
                                –
                            </button>
                            <input
                                id="maxWindow"
                                type="number"
                                min="1"
                                max="1337"
                                class="stepper-input"
                                value="20"
                                inputmode="numeric"
                                aria-live="polite"
                            />
                            <button
                                type="button"
                                class="stepper-btn"
                                data-input="maxWindow"
                                data-action="increment"
                                aria-label="Increase maximum tabs per window"
                            >
                                +
                            </button>
                        </div>
                        <label class="stepper-label">max tabs / window</label>
                    </div>
                    
                    <div class="progress-group">
                        <div class="progress-bar">
                            <div class="progress-fill" id="windowProgressFill"></div>
                        </div>
                        <div class="progress-labels">
                            <span class="progress-open" id="windowOpenCount">0 open</span>
                            <span class="progress-left" id="windowLeftCount">0 left</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- All Windows Card -->
            <div class="card">
                <div class="card-header">
                    <svg class="card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                        <line x1="8" y1="21" x2="16" y2="21"/>
                        <line x1="12" y1="17" x2="12" y2="21"/>
                    </svg>
                    <h2>All Windows</h2>
                    <span class="window-badge" id="windowCountBadge">1</span>
                </div>
                
                <div class="card-content">
                    <div class="stepper-group">
                        <div class="stepper-container">
                            <button
                                type="button"
                                class="stepper-btn"
                                data-input="maxTotal"
                                data-action="decrement"
                                aria-label="Decrease maximum total tabs"
                            >
                                –
                            </button>
                            <input
                                id="maxTotal"
                                type="number"
                                min="1"
                                max="1337"
                                class="stepper-input"
                                value="50"
                                inputmode="numeric"
                                aria-live="polite"
                            />
                            <button
                                type="button"
                                class="stepper-btn"
                                data-input="maxTotal"
                                data-action="increment"
                                aria-label="Increase maximum total tabs"
                            >
                                +
                            </button>
                        </div>
                        <label class="stepper-label">max tabs total</label>
                    </div>
                    
                    <div class="progress-group">
                        <div class="progress-bar">
                            <div class="progress-fill" id="globalProgressFill"></div>
                        </div>
                        <div class="progress-labels">
                            <span class="progress-open" id="globalOpenCount">0 open</span>
                            <span class="progress-left" id="globalLeftCount">0 left</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>

        <div id="settingsView" class="view-container hidden">
            <div class="section">
                <label class="toggle-row">
                <input
                    id="displayBadge"
                    type="checkbox"
                    class="toggle-input checkbox-input"
                />
                <span
                    class="toggle-slider"
                    aria-hidden="true"
                ></span>
                <div class="toggle-text">
                    <div class="label-title">Badge</div>
                    <div class="label-desc">Show remaining tabs on icon</div>
                </div>
            </label>

            <label class="toggle-row">
                <input
                    id="displayAlert"
                    type="checkbox"
                    class="toggle-input checkbox-input"
                />
                <span
                    class="toggle-slider"
                    aria-hidden="true"
                ></span>
                <div class="toggle-text">
                    <div class="label-title">Alert</div>
                    <div class="label-desc">Show alert when limit is reached</div>
                </div>
            </label>

            <label class="toggle-row">
                <input
                    id="exceedTabNewWindow"
                    type="checkbox"
                    class="toggle-input checkbox-input"
                />
                <span
                    class="toggle-slider"
                    aria-hidden="true"
                ></span>
                <div class="toggle-text">
                    <div class="label-title">Balance Tabs</div>
                    <div class="label-desc">Open extra tabs in other window</div>
                </div>
            </label>

            <label class="toggle-row">
                <input
                    id="countPinnedTabs"
                    type="checkbox"
                    class="toggle-input checkbox-input"
                />
                <span
                    class="toggle-slider"
                    aria-hidden="true"
                ></span>
                <div class="toggle-text">
                    <div class="label-title">Count Pinned</div>
                    <div class="label-desc">Pinned tabs count towards the limit</div>
                </div>
            </label>
        </div>

        <div class="footer">
            <div id="status">Settings auto-save as you change them</div>
        </div>
    </body>
</html>
